<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>How to create an airline route map with QGIS</title>

  <style>
    
    /* jost-700 - latin */
    @font-face {
      font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
      font-family: 'Jost';
      font-style: normal;
      font-weight: 700;
      src: url('/assets/fonts/jost-v15-latin-700.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
    }

    /* eb-garamond-500 - latin */
    @font-face {
      font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
      font-family: 'EB Garamond';
      font-style: normal;
      font-weight: 500;
      src: url('/assets/fonts/eb-garamond-v27-latin-500.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
    }

    /* eb-garamond-500italic - latin */
    @font-face {
      font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
      font-family: 'EB Garamond';
      font-style: italic;
      font-weight: 500;
      src: url('/assets/fonts/eb-garamond-v27-latin-500italic.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
    }

    /* eb-garamond-700 - latin */
    @font-face {
      font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
      font-family: 'EB Garamond';
      font-style: normal;
      font-weight: 700;
      src: url('/assets/fonts/eb-garamond-v27-latin-700.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
    }

    /* eb-garamond-700italic - latin */
    @font-face {
      font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
      font-family: 'EB Garamond';
      font-style: italic;
      font-weight: 700;
      src: url('/assets/fonts/eb-garamond-v27-latin-700italic.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
    }


  

  ::backdrop,:root{--sans-font:-apple-system,BlinkMacSystemFont,"Avenir Next",Avenir,"Nimbus Sans L",Roboto,"Noto Sans","Segoe UI",Arial,Helvetica,"Helvetica Neue",sans-serif;--mono-font:Consolas,Menlo,Monaco,"Andale Mono","Ubuntu Mono",monospace;--standard-border-radius:5px;--bg:#fff;--accent-bg:#f5f7ff;--text:#212121;--text-light:#585858;--border:#898EA4;--accent:#0d47a1;--code:#d81b60;--preformatted:#444;--marked:#ffdd33;--disabled:#efefef}@media (prefers-color-scheme:dark){::backdrop,:root{color-scheme:dark;--bg:#212121;--accent-bg:#2b2b2b;--text:#dcdcdc;--text-light:#ababab;--accent:#ffb300;--code:#f06292;--preformatted:#ccc;--disabled:#111}img,video{opacity:.8}}*,::after,::before{box-sizing:border-box}input,progress,select,textarea{appearance:none;-webkit-appearance:none;-moz-appearance:none}html{font-family:var(--sans-font);scroll-behavior:smooth}body{color:var(--text);background-color:var(--bg);font-size:1.15rem;line-height:1.5;display:grid;grid-template-columns:1fr min(45rem,90%) 1fr;margin:0}body>*{grid-column:2}body>header{background-color:var(--accent-bg);border-bottom:1px solid var(--border);text-align:center;padding:0 .5rem 2rem .5rem;grid-column:1/-1}body>header h1{max-width:1200px;margin:1rem auto}body>header p{max-width:40rem;margin:1rem auto}main{padding-top:1.5rem}body>footer{margin-top:4rem;padding:2rem 1rem 1.5rem 1rem;color:var(--text-light);font-size:.9rem;text-align:center;border-top:1px solid var(--border)}h1{font-size:3rem}h2{font-size:2.6rem;margin-top:3rem}h3{font-size:2rem;margin-top:3rem}h4{font-size:1.44rem}h5{font-size:1.15rem}h6{font-size:.96rem}h1,h2,h3,h4,h5,h6,p{overflow-wrap:break-word}h1,h2,h3{line-height:1.1}@media only screen and (max-width:720px){h1{font-size:2.5rem}h2{font-size:2.1rem}h3{font-size:1.75rem}h4{font-size:1.25rem}}a,a:visited{color:var(--accent)}a:hover{text-decoration:none}[role=button],button,input[type=button],input[type=reset],input[type=submit],label[type=button]{border:none;border-radius:var(--standard-border-radius);background-color:var(--accent);font-size:1rem;color:var(--bg);padding:.7rem .9rem;margin:.5rem 0;font-family:inherit}[role=button][aria-disabled=true],button[disabled],input[type=button][disabled],input[type=checkbox][disabled],input[type=radio][disabled],input[type=reset][disabled],input[type=submit][disabled],select[disabled]{cursor:not-allowed}button[disabled],input:disabled,select:disabled,textarea:disabled{cursor:not-allowed;background-color:var(--disabled);color:var(--text-light)}input[type=range]{padding:0}abbr[title]{cursor:help;text-decoration-line:underline;text-decoration-style:dotted}[role=button]:not([aria-disabled=true]):hover,button:enabled:hover,input[type=button]:enabled:hover,input[type=reset]:enabled:hover,input[type=submit]:enabled:hover,label[type=button]:hover{filter:brightness(1.4);cursor:pointer}button:focus-visible:where(:enabled,[role=button]:not([aria-disabled=true])),input:enabled:focus-visible:where([type=submit],[type=reset],[type=button]){outline:2px solid var(--accent);outline-offset:1px}header>nav{font-size:1rem;line-height:2;padding:1rem 0 0 0}header>nav ol,header>nav ul{align-content:space-around;align-items:center;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;list-style-type:none;margin:0;padding:0}header>nav ol li,header>nav ul li{display:inline-block}header>nav a,header>nav a:visited{margin:0 .5rem 1rem .5rem;border:1px solid var(--border);border-radius:var(--standard-border-radius);color:var(--text);display:inline-block;padding:.1rem 1rem;text-decoration:none}header>nav a.current,header>nav a:hover{border-color:var(--accent);color:var(--accent);cursor:pointer}@media only screen and (max-width:720px){header>nav a{border:none;padding:0;text-decoration:underline;line-height:1}}aside,details,pre,progress{background-color:var(--accent-bg);border:1px solid var(--border);border-radius:var(--standard-border-radius);margin-bottom:1rem}aside{font-size:1rem;width:30%;padding:0 15px;margin-inline-start:15px;float:right}[dir=rtl] aside{float:left}@media only screen and (max-width:720px){aside{width:100%;float:none;margin-inline-start:0}}article,dialog,fieldset{border:1px solid var(--border);padding:1rem;border-radius:var(--standard-border-radius);margin-bottom:1rem}article h2:first-child,section h2:first-child{margin-top:1rem}section{border-top:1px solid var(--border);border-bottom:1px solid var(--border);padding:2rem 1rem;margin:3rem 0}section+section,section:first-child{border-top:0;padding-top:0}section:last-child{border-bottom:0;padding-bottom:0}details{padding:.7rem 1rem}summary{cursor:pointer;font-weight:700;padding:.7rem 1rem;margin:-.7rem -1rem;word-break:break-all}details[open]>summary+*{margin-top:0}details[open]>summary{margin-bottom:.5rem}details[open]>:last-child{margin-bottom:0}table{border-collapse:collapse;margin:1.5rem 0}td,th{border:1px solid var(--border);text-align:start;padding:.5rem}th{background-color:var(--accent-bg);font-weight:700}tr:nth-child(2n){background-color:var(--accent-bg)}table caption{font-weight:700;margin-bottom:.5rem}input,select,textarea{font-size:inherit;font-family:inherit;padding:.5rem;margin-bottom:.5rem;color:var(--text);background-color:var(--bg);border:1px solid var(--border);border-radius:var(--standard-border-radius);box-shadow:none;max-width:100%;display:inline-block}label{display:block}textarea:not([cols]){width:100%}select:not([multiple]){background-image:linear-gradient(45deg,transparent 49%,var(--text) 51%),linear-gradient(135deg,var(--text) 51%,transparent 49%);background-position:calc(100% - 15px),calc(100% - 10px);background-size:5px 5px,5px 5px;background-repeat:no-repeat;padding-inline-end:25px}[dir=rtl] select:not([multiple]){background-position:10px,15px}input[type=checkbox],input[type=radio]{vertical-align:middle;position:relative;width:min-content}input[type=checkbox]+label,input[type=radio]+label{display:inline-block}input[type=radio]{border-radius:100%}input[type=checkbox]:checked,input[type=radio]:checked{background-color:var(--accent)}input[type=checkbox]:checked::after{content:" ";width:.18em;height:.32em;border-radius:0;position:absolute;top:.05em;left:.17em;background-color:transparent;border-right:solid var(--bg) .08em;border-bottom:solid var(--bg) .08em;font-size:1.8em;transform:rotate(45deg)}input[type=radio]:checked::after{content:" ";width:.25em;height:.25em;border-radius:100%;position:absolute;top:.125em;background-color:var(--bg);left:.125em;font-size:32px}@media only screen and (max-width:720px){input,select,textarea{width:100%}}input[type=color]{height:2.5rem;padding:.2rem}input[type=file]{border:0}hr{border:none;height:1px;background:var(--border);margin:1rem auto}mark{padding:2px 5px;border-radius:var(--standard-border-radius);background-color:var(--marked);color:#000}img,video{max-width:100%;height:auto;border-radius:var(--standard-border-radius)}figure{margin:0;display:block;overflow-x:auto}figcaption{text-align:center;font-size:.9rem;color:var(--text-light);margin-bottom:1rem}blockquote{margin-inline-start:2rem;margin-inline-end:0;margin-block:2rem;padding:.4rem .8rem;border-inline-start:.35rem solid var(--accent);color:var(--text-light);font-style:italic}cite{font-size:.9rem;color:var(--text-light);font-style:normal}dt{color:var(--text-light)}code,kbd,pre,pre span,samp{font-family:var(--mono-font);color:var(--code)}kbd{color:var(--preformatted);border:1px solid var(--preformatted);border-bottom:3px solid var(--preformatted);border-radius:var(--standard-border-radius);padding:.1rem .4rem}pre{padding:1rem 1.4rem;max-width:100%;overflow:auto;color:var(--preformatted)}pre code{color:var(--preformatted);background:0 0;margin:0;padding:0}progress{width:100%}progress:indeterminate{background-color:var(--accent-bg)}progress::-webkit-progress-bar{border-radius:var(--standard-border-radius);background-color:var(--accent-bg)}progress::-webkit-progress-value{border-radius:var(--standard-border-radius);background-color:var(--accent)}progress::-moz-progress-bar{border-radius:var(--standard-border-radius);background-color:var(--accent);transition-property:width;transition-duration:.3s}progress:indeterminate::-moz-progress-bar{background-color:var(--accent-bg)}dialog{max-width:40rem;margin:auto}dialog::backdrop{background-color:var(--bg);opacity:.8}@media only screen and (max-width:720px){dialog{max-width:100%;margin:auto 1em}}.button,.button:visited{display:inline-block;text-decoration:none;border:none;border-radius:5px;background:var(--accent);font-size:1rem;color:var(--bg);padding:.7rem .9rem;margin:.5rem 0}.button:focus,.button:hover{filter:brightness(1.4);cursor:pointer}.notice{background:var(--accent-bg);border:2px solid var(--border);border-radius:5px;padding:1.5rem;margin:2rem 0}:root{--serif-font:"EB Garamond","Garamond","Roboto Serif","Iowan Old Style","Apple Garamond","Baskerville","Times New Roman","Droid Serif","Times","Source Serif Pro",serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--sans-font:"Jost",Roboto,"Nimbus Sans L","Avenir Next",Avenir,"Segoe UI",Arial,Helvetica,"Helvetica Neue",sans-serif;--mono-font:"Ubuntu Mono",Consolas,Menlo,Monaco,"Andale Mono",monospace;--bg:#fafafa;--accent:#1197b0;--accent-bg:#f5f8f9;--code:#e16e00}@media (prefers-color-scheme:dark){:root{--bg:#05080f;--accent:#41a2b5;--accent-bg:#080c17;--code:#e16e00}}html{font-family:var(--serif-font)}body{grid-template-columns:1fr min(55rem,90%) 1fr;font-size:1.5rem;line-height:1.7;overflow-y:scroll}body>header{padding:0}body>header>a{max-width:1200px;margin:1rem auto;font-size:1.6rem;display:block;letter-spacing:.18rem;text-transform:uppercase;color:var(--text)!important;font-family:var(--sans-font)}a{text-decoration:none}blockquote{font-style:normal}h1{color:var(--accent)}h1,h2,h3,h4,h5,h6{font-family:var(--sans-font);font-weight:700;margin-bottom:.25em}a.header-anchor{color:unset}time{color:var(--text-light);font-size:1.1rem;display:inline-block}p.time{text-align:right;margin-top:0}footer{grid-column:1/-1;background-color:var(--accent-bg);padding-top:3rem;box-shadow:0 50vh 0 50vh var(--accent-bg)}footer ul{margin:0;padding:0;list-style-type:none}footer li{display:inline-block;padding-top:5px;padding-bottom:5px}.excerpt{font-size:1.4rem;padding-bottom:1rem}article{border:none;padding:0;padding-bottom:2rem}.bottomlinks{font-family:var(--sans-font);font-size:1.2rem}.photostream{padding-top:2rem;padding-bottom:2rem}.sl-overlay{background:#000!important}nav{display:inline;text-align:center;margin-top:2rem;width:100%}nav :is(ol,ul) li{display:inline;list-style-type:none;padding:.2rem .5rem;text-decoration:none;margin:0 .5rem;float:right}:root{--notice-color:var(--text);--notice-bg:var(--accent-bg);--notice-info-color:var(--text);--notice-info-bg:#d8ebf1;--notice-success-color:var(--text);--notice-success-bg:#d9edd9;--notice-warning-color:var(--text);--notice-warning-bg:#f7e5cd;--notice-danger-color:var(--text);--notice-danger-bg:#fcdfde}@media (prefers-color-scheme:dark){:root{--notice-color:var(--text);--notice-bg:var(--accent-bg);--notice-info-color:#76a9fa;--notice-info-bg:var(--accent-bg);--notice-success-color:#31c48d;--notice-success-bg:var(--accent-bg);--notice-warning-color:#faca15;--notice-warning-bg:var(--accent-bg);--notice-danger-color:#f98080;--notice-danger-bg:var(--accent-bg)}}.notice{background:var(--accent-bg);border-radius:5px;padding:1rem;margin:2rem 0;font-size:1rem}.notice a{color:unset;text-decoration:underline}.notice.info{color:var(--notice-info-color);background-color:var(--notice-info-bg)}.notice.success{color:var(--notice-success-color);background-color:var(--notice-success-bg)}.notice.warning{color:var(--notice-warning-color);background-color:var(--notice-warning-bg)}.notice.danger{color:var(--notice-danger-color);background-color:var(--notice-danger-bg)}.gist td{all:initial}div.video>iframe{aspect-ratio:16/9;width:100%}figure{text-align:center}code,kbd,pre,pre span,samp{font-size:1rem}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:0 0;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2b2b2b}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#d4d0ab}.token.punctuation{color:#fefefe}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#ffa07a}.token.boolean,.token.number{color:#00e0e0}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#abe338}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#00e0e0}.token.atrule,.token.attr-value,.token.function{color:gold}.token.keyword{color:#00e0e0}.token.important,.token.regex{color:gold}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}@media screen and (-ms-high-contrast:active){code[class*=language-],pre[class*=language-]{color:windowText;background:window}:not(pre)>code[class*=language-],pre[class*=language-]{background:window}.token.important{background:highlight;color:window;font-weight:400}.token.atrule,.token.attr-value,.token.function,.token.keyword,.token.operator,.token.selector{font-weight:700}.token.attr-value,.token.comment,.token.doctype,.token.function,.token.keyword,.token.operator,.token.property,.token.string{color:highlight}.token.attr-value,.token.url{font-weight:400}}article>figure,article>pre,div.gallery,div.video,pre[class*=language-]{width:100vw;max-width:65rem;margin-left:50%;transform:translateX(-50%);position:relative;box-shadow:0 10px 30px rgba(0,0,0,.15);--border:#ffffff1a}article>figure,div.gallery,div.video{box-shadow:none}
  </style>

  <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml">
  <link rel="alternate" href="/feed.xml" type="application/atom+xml" title="Campachoochoo Chronicles">
  <link rel="alternate" href="/feed.json" type="application/json" title="Campachoochoo Chronicles">

  <meta property="og:title" content="How to create an airline route map with QGIS"/>
  <meta property="og:url" content="https://chronicles.campachoochoo.net/route-maps-with-qgis/" />
  <meta property="og:description" content="A step-by-step guide to plotting airport pairs as great circles on a map." />
  <meta property="og:image" content="https://chronicles.campachoochoo.net/assets/images/qgis-routes/00-qgis.png" />
  <meta property="og:type" content="article" />
  <meta property="og:article:author" content="pwrignall" />
  <meta property="og:article:tag" content="dataviz,gis,qgis,maps" />
  <meta name="description" content="A step-by-step guide to plotting airport pairs as great circles on a map.">
  <meta name="keywords" content="dataviz,gis,qgis,maps">

  <meta name="generator" content="Eleventy v2.0.1">

  <link href="/assets/images/blogprofile.png" rel="icon" type="image/x-icon" />

  
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "How to create an airline route map with QGIS",
    "description": "A step-by-step guide to plotting airport pairs as great circles on a map.",
    "image": "https://chronicles.campachoochoo.net/assets/images/qgis-routes/00-qgis.png",
    "keywords": "dataviz,gis,qgis,maps",
    "url": "https://chronicles.campachoochoo.net/route-maps-with-qgis/",
    "dateModified": "2024-02-07",
    "author": {
        "@type": "Person",
        "name": "pwrignall",
        "url": "https://github.com/pwrignall/"
    }
  }
  </script>
  

</head>

<body>
  <header>
    <a href="/">Campachoochoo Chronicles</a>
  </header>
  <main>
    <h1><a href="">How to create an airline route map with QGIS</a></h1>
    
<p class="time"><time datetime="2024-02-07">Wed 7 Feb 2024</time></p>

<article>
<p>This guide will take you through the steps to plot a route map in QGIS, with lines between points as great circles.</p>
<p>When I worked at an aviation news and data company called <a href="https://www.flightglobal.com/">FlightGlobal</a>, we occasionally
wanted to display a map showing newly-announced routes, the geographical reach of a carrier, or the top n routes in a
region.</p>
<p>For static maps, intended to be printed, I used the excellent geographic information system application,
<a href="https://qgis.org/">QGIS</a>. Whilst my process most certainly could be streamlined, I’m laying it out here so if you ever
feel like mapping some routes, you can too!</p>
<h2 id="data-prep" tabindex="-1"><a class="header-anchor" href="#data-prep">Data prep</a></h2>
<p>Route maps tend to use <a href="https://en.wikipedia.org/wiki/Great-circle_distance">great circles</a> to connect points on a map.
Because of things like weather these are not the exact coordinates an aircraft would follow, but they’re used because
they’re the shortest distance between two points. And they look nice.</p>
<p>I had an R script I used to use for this. But I’ve lost it. My attempt to re-write it in Python took a while but,
thanks to the <a href="https://geographiclib.sourceforge.io/Python/doc/examples.html">geographiclib</a> package and its
examples, I got something working that does a decent job.</p>
<p>The <a href="https://github.com/pwrignall/gclines">script is on GitHub</a> with instructions and takes a couple of inputs to
produce two outputs: a file containing unique airports, <em>airport_points.csv</em>, and a file containing all
the points needed to create the great circle lines in QGIS, <em>route_points.csv</em>.</p>
<h2 id="adding-data-layers-to-qgis" tabindex="-1"><a class="header-anchor" href="#adding-data-layers-to-qgis">Adding data layers to QGIS</a></h2>
<p>Once you’ve <a href="https://qgis.org/en/site/forusers/download.html">installed QGIS</a>, you’ll need to add your data as layers
in the application. Once all of your data layers are in, you can experiment with different styles and map projections.</p>
<h3 id="map-base-layer" tabindex="-1"><a class="header-anchor" href="#map-base-layer">Map base layer</a></h3>
<p>For this I recommend the brilliant <a href="https://www.naturalearthdata.com/">Natural Earth</a> project. Medium scale should be
fine for this use case, so you can navigate to the <em>1:50m Physical</em> downloads and save the <em>Land</em> layer — which
includes polygons for land and major islands of the world — to a working directory on your device.</p>
<ol>
<li>
<p>In QGIS, in an empty project, add that layer through the menu options: <strong>Layer → Add Layer → Add Vector
Layer…</strong></p>
</li>
<li>
<p>By <em>Vector Dataset(s)</em>, browse to your downloaded Natural Earth .zip file and then click <strong>Add</strong>. Close this dialog
box.</p>
</li>
</ol>
<figure><a href="/assets/images/qgis-routes/01-basemap.png"><img src="/assets/images/qgis-routes/01-basemap.png" alt="After adding your land layer you should have something
like this." loading="lazy" style="" /></a><figcaption>After adding your land layer you should have something
like this.</figcaption></figure>
<h3 id="route-points" tabindex="-1"><a class="header-anchor" href="#route-points">Route points</a></h3>
<p>Now we’ll use the outputs from the earlier script and add them as another layer to the project. For this example, I’ve
plotted the hypothetical route travelled by the Champions League trophy since 1993, from the venue of that year’s final
in Munich (MUC) through all the winners’ nearest airports and the other final venues.</p>
<ol start="3">
<li>
<p>Click <strong>Layer → Add Layer → Add Delimited Text Layer…</strong></p>
</li>
<li>
<p>By <em>File Name</em>, browse to your working directory and select the <strong>route_points.csv</strong> file.</p>
</li>
<li>
<p>Under <em>File Format</em>, verify <strong>CSV</strong> is selected.</p>
</li>
<li>
<p>Under <em>Geometry Definition</em>, select <strong>EPSG:4326 - WGS 84</strong> as the <em>Geometry CRS</em> and click <strong>Add</strong>. You can then
close this dialog.</p>
</li>
<li>
<p>With the route_points layer selected, find the <strong>Zoom to Layer</strong> button on the toolbar or within the <em>View</em> menu to
zoom in and focus on your routes, if you like.</p>
</li>
</ol>
<figure><a href="/assets/images/qgis-routes/02-route-points.png"><img src="/assets/images/qgis-routes/02-route-points.png" alt="Blobs on shapes, zoomed in. We'll style this later." loading="lazy" style="" /></a><figcaption>Blobs on shapes, zoomed in. We’ll style this later.</figcaption></figure>
<h3 id="points-to-lines" tabindex="-1"><a class="header-anchor" href="#points-to-lines">Points to lines</a></h3>
<p>Whilst there are QGIS plugins to convert point pairs to lines, I don’t think they had all the features I was looking
for. I may revisit this and see if <a href="https://plugins.qgis.org/plugins/Beeline/">Beeline</a> (which led me to the Python
functions I used in my own script) can offer a simpler alternative to what I’m doing.
Instead, I’ve used a plugin called <a href="https://plugins.qgis.org/plugins/points2one/">Points2One</a> to transform the long list
of longitude/latitude coordinate sequences to a set of lines.</p>
<p>Install the plugin through the menu, <strong>Plugins → Manage and Install Plugins…</strong> and search for
“Points2One”.</p>
<ol start="8">
<li>
<p>Select the Points2One dialog through <strong>Vector → Points2One → Points2One</strong>.</p>
</li>
<li>
<p><em>Input vector layer</em> should be <strong>route_points</strong>. You’ll want to <strong>Create lines</strong> and <em>Group features by</em> <strong>route</strong>.
Enter an <em>Output shapefile</em> filename in which your lines will be saved and check the <em>Add result to canvas</em> box:</p>
</li>
</ol>
<figure><a href="/assets/images/qgis-routes/03-points2one.png"><img src="/assets/images/qgis-routes/03-points2one.png" alt="Points2One options." loading="lazy" style="" /></a><figcaption>Points2One options.</figcaption></figure>
<ol start="10">
<li>Click <strong>OK</strong> and <strong>Close</strong> on the Points2One dialog.</li>
</ol>
<figure><a href="/assets/images/qgis-routes/04-blobs-and-lines.png"><img src="/assets/images/qgis-routes/04-blobs-and-lines.png" alt="Lines connecting the blobs." loading="lazy" style="" /></a><figcaption>Lines connecting the blobs.</figcaption></figure>
<h3 id="airport-points" tabindex="-1"><a class="header-anchor" href="#airport-points">Airport points</a></h3>
<p>Our final layer will be marks for the individual airports. This was the other output file generated by the earlier
script.</p>
<ol start="11">
<li>
<p>Click <strong>Layer → Add Layer → Add Delimited Text Layer…</strong></p>
</li>
<li>
<p>By <em>File Name</em>, browse to your working directory and select the <strong>airport_points.csv</strong> file.</p>
</li>
<li>
<p>Ensure <em>File Format</em> is <strong>CSV</strong> and <em>Geometry CRS</em> is <strong>EPSG:4326 - WGS 84</strong>. Click <strong>Add</strong> and close the dialog.
Because our route points include the airports as start and end points, this addition won’t be obvious until we adjust
the styling.</p>
</li>
</ol>
<h2 id="changing-the-map-s-appearance" tabindex="-1"><a class="header-anchor" href="#changing-the-map-s-appearance">Changing the map’s appearance</a></h2>
<h3 id="layer-symbology" tabindex="-1"><a class="header-anchor" href="#layer-symbology">Layer symbology</a></h3>
<p>Editing symbology, or how layers are styled — sometimes based on some data attribute like you would do on a
choropleth — can be done by double-clicking a layer in QGIS. You can choose an in-built style or make up your own.
You can modify object fills and strokes and that’s all I’ll be doing for this map, using <strong>Simple Fill</strong>, <strong>Simple
Line</strong> and <strong>Simple Marker</strong> depending on the layer type.</p>
<p>You can also adjust the canvas colour through <strong>Project → Properties → General → Background color</strong>.</p>
<p>Toggle a layer’s visibility completely by clicking the eye-shaped icon next to a layer. We want to do this now for the
route_points layer.</p>
<figure><a href="/assets/images/qgis-routes/05-after-some-styling.png"><img src="/assets/images/qgis-routes/05-after-some-styling.png" alt="Choosing colours is hard." loading="lazy" style="" /></a><figcaption>Choosing colours is hard.</figcaption></figure>
<h3 id="airport-labels" tabindex="-1"><a class="header-anchor" href="#airport-labels">Airport labels</a></h3>
<p>We can add text labels to give the viewer an idea of which airport is where.</p>
<p>Double-click the airport_points layer then select <strong>Labels</strong>. Choose <strong>Single Labels</strong> from the dropdown. For <em>Value</em>
I’m using the Expression Builder next to the field dropdown and have entered <code>&quot;iata_code&quot;  || ' ' || &quot;loc_name&quot;</code> which
will concatenate the airport code and municipality (maybe not the most intuitive name in all cases, as you’ll see) from
the airports input file.</p>
<p>Within this dialog you can adjust the label font, placement and any text effects like buffers and shadows.</p>
<figure><a href="/assets/images/qgis-routes/06-label-maker.png"><img src="/assets/images/qgis-routes/06-label-maker.png" alt="Adding a buffer to improve legibility." loading="lazy" style="" /></a><figcaption>Adding a buffer to improve legibility.</figcaption></figure>
<h3 id="map-projection" tabindex="-1"><a class="header-anchor" href="#map-projection">Map projection</a></h3>
<p>When the geographic extent of a map is limited to a specific region, it’s a good opportunity to use a different map
projection to minimise the distortions we make when flattening a sphere onto a rectangle.</p>
<p>My go-to tool for choosing a good projection is <a href="https://projectionwizard.org/">Projection Wizard</a>. With it, we can
specify the boundaries of the map and receive some suggested projections in return. For this region, I’ll optimise by
equal area and use an Albers equal-area conic projection. The tool also gives the coordinate string you need
for QGIS in either proj4 or WKT formats. QGIS accepts both but prefers WKT.</p>
<p>Within QGIS, define a new projection from <strong>Settings → Custom Projections…</strong> Click the plus icon to add a
new projection, give it a name and paste the text from Projection Wizard into the <em>Parameters</em> box. Click <strong>OK</strong>.</p>
<p>Now re-project your map to the newly-defined projection by selecting <strong>Project → Properties…</strong>. In the
dialog click <strong>CRS</strong> (Coordinate Reference System). Within <em>Predefined Coordinate Reference Systems</em> scroll down until
you see some under <strong>User-defined</strong> and select the name you just created. Click <strong>OK</strong> and there’s your re-projected
map!</p>
<p>From here you can export the map as an image or PDF to further tweak it. Here’s my end product, after exporting and
adding a title. I also took the opportunity to edit airport_points.csv and tidy up the location name labels.</p>
<figure><a href="/assets/images/qgis-routes/07-reprojected.png"><img src="/assets/images/qgis-routes/07-reprojected.png" alt="Lots of visits to Milan, Munich and Madrid." loading="lazy" style="" /></a><figcaption>Lots of visits to Milan, Munich and Madrid.</figcaption></figure>
<h2 id="summary" tabindex="-1"><a class="header-anchor" href="#summary">Summary</a></h2>
<p>And that’s it, although quite an involved process end-to-end this doesn’t take too long once you’re used to it. Except
maybe choosing the colours. With this method you can create quite detailed explanatory maps as well as more abstract
ones like this. Enjoy!</p>
<figure><a href="/assets/images/qgis-routes/08-world-lines.png"><img src="/assets/images/qgis-routes/08-world-lines.png" alt="Route information from openflights.org" loading="lazy" style="" /></a><figcaption>Route information from openflights.org</figcaption></figure>
</article>


  </main>

  <footer>

    <ul class="bottomlinks"><li><a href="https://github.com/pwrignall/">🐛 GitHub</a></li>&nbsp;&nbsp;&nbsp;<li><a href="/feed.xml">🌐 Feed</a></li>&nbsp;&nbsp;&nbsp;</ul>

    <p>&mdash; &copy; 2024 pwrignall &mdash;</p>

  </footer>



<link rel="stylesheet" href="/simplelightbox/simple-lightbox.min.css"/>
<script src="/simplelightbox/simple-lightbox.min.js"></script>
<script>
  (function () {
    var $gallery = new SimpleLightbox('figure a', {
      'overlayOpacity': 0.6,
      'uniqueImages': false
    });
  })();
</script>


  <!-- Current page: /route-maps-with-qgis/ -->
</body>

</html>
